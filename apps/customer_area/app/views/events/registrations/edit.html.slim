.header-desktop.header-nav.edit-profile-menu-desktop
  ul
    li
      = link_to event_url(current_event), class: "btn-desktop-profile" do
        = fa_icon "home"
    li
      = link_to event_logout_path(current_event), method: :delete,
            class: "btn-desktop-profile",
            data: { confirm: (t("confirm.log_out")) },
            method: :delete do
        = fa_icon "sign-out"
header.header-mobile.edit-profile-menu
  h1.mobile-event-name
    = link_to event_url(current_event) do
      = current_event.name
  #mobile-trigger.mobile-trigger
    = fa_icon "user"
  nav#mobile-options.mobile-options
    ul
      li = mail_to current_event.support_email, t('header.help'), subject: t('event.subject_support', event: current_event.name)
      - if customer_signed_in?
        li
          = link_to edit_event_registrations_path(current_event, current_customer) do
            = current_customer.first_name
        li
          = link_to event_logout_path(current_event), method: :delete do
            = t('header.logout')
// TODO: Manu, Upper headers ^^^ for the edit profile view must be displayed with layouts

.container-event-column
  .wrapper-session.wrapper-module-centered.edit-profile-form
    = simple_form_for @edit_profile_form, url: event_registrations_path(current_event), method: :patch do |f|
      = f.error_notification
      h3 = t('header.edit')
      = f.input :event_id, as: :hidden, input_html: { value: current_event.id }, input_html: { class: 'session-input' }
      = f.input :email, required: true, autofocus: true, input_html: { class: 'session-input' }
      = f.input :first_name, required: true, autofocus: true, input_html: { class: 'session-input' }
      = f.input :last_name, required: true, autofocus: true, input_html: { class: 'session-input' }
      = f.input :current_password, autocomplete: "off", input_html: { class: 'session-input' }
      = f.input :password, autocomplete: "off", hint: t('registration.edit.password_hint'), required: false, input_html: { class: 'session-input' }
      = f.input :phone, input_html: { class: 'session-input' } if(current_event.phone?)
      = f.input :address, input_html: { class: 'session-input' } if(current_event.address?)
      = f.input :city, input_html: { class: 'session-input' } if(current_event.city?)
      = f.input :postcode, input_html: { class: 'session-input' } if(current_event.postcode?)
      = f.input :country,  input_html: { class: 'session-select' } if(current_event.country?)
      = f.input :gender, collection: Customer.gender_selector, include_blank: false, input_html: { class: 'session-input' } if(current_event.gender?)
      = f.input :birthdate, as: :date, start_year: 1950,
            end_year: Date.today.year - 12,
            order: [:day, :month, :year] if(current_event.birthdate?)
      = f.button :submit, t('registration.edit.button'),  class: "btn-action btn-edit-profile"
  - current_profile.payment_gateway_customers.each do |payment_gateway_customer|
    .wrapper-module
      p.paypal-agreement-icon = fa_icon 'paypal'
      p.hint-text.center-text.paypal-text = t('registration.autotoup_agreement.title')
      p.center-text = t("confirm.cancel_paypal")

      = link_to event_autotopup_agreement_path(current_event, payment_gateway_customer), method: :delete,
            class: "btn btn-remove-ticket remove-centered",
            data: { confirm: (t('registration.autotoup_agreement.cancel')) },
            method: :delete do
        = fa_icon "trash"
        = t('actions.cancel')
  .wrapper-module
    = link_to customer_root_path, class: "btn btn-action-back add-bottom" do
      = fa_icon "chevron-left"
      = t("actions.back")